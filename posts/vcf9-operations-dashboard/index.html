

<!DOCTYPE html>
<html lang="en-us">
<head>
<script type="text/plain" data-type="application/javascript" data-name="googleAnalytics">
  // Hier kommt dein GA-Code (Google Analytics 4 empfohlen!)
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YNTG7NNKQN', { 'anonymize_ip': true });
</script>

<script type="text/plain" data-type="application/javascript" data-name="googleAnalytics" src="https://www.googletagmanager.com/gtag/js?id=G-YNTG7NNKQN"></script>
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="robots" content="index, follow"><link rel="author" href="/humans.txt">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#494f5c">
<meta name="msapplication-TileColor" content="#494f5c">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#494f5c"><meta name="author" content="SDN-Warrior"><meta name="description" content="A short blog about the joys of creating a dashboard in VCF 9 Operations.">

  <meta itemprop="name" content="VCF9 - Building VCF Operations Dashboard">
  <meta itemprop="description" content="A short blog about the joys of creating a dashboard in VCF 9 Operations.">
  <meta itemprop="datePublished" content="2025-12-20T03:00:00+01:00">
  <meta itemprop="dateModified" content="2025-12-20T03:00:00+01:00">
  <meta itemprop="wordCount" content="3044">
  <meta itemprop="image" content="https://sdn-warrior.org/images/preview.png">
  <meta itemprop="keywords" content="Vcf,Vmware,Operations,Homelab"><meta property="og:url" content="https://sdn-warrior.org/posts/vcf9-operations-dashboard/">
  <meta property="og:site_name" content="SDN-Warrior | Daniel Krieger">
  <meta property="og:title" content="VCF9 - Building VCF Operations Dashboard">
  <meta property="og:description" content="A short blog about the joys of creating a dashboard in VCF 9 Operations.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-12-20T03:00:00+01:00">
    <meta property="article:modified_time" content="2025-12-20T03:00:00+01:00">
    <meta property="article:tag" content="Vcf">
    <meta property="article:tag" content="Vmware">
    <meta property="article:tag" content="Operations">
    <meta property="article:tag" content="Homelab">
    <meta property="og:image" content="https://sdn-warrior.org/images/preview.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://sdn-warrior.org/images/preview.png">
  <meta name="twitter:title" content="VCF9 - Building VCF Operations Dashboard">
  <meta name="twitter:description" content="A short blog about the joys of creating a dashboard in VCF 9 Operations.">

<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "VCF9 - Building VCF Operations Dashboard",
    "name": "VCF9 - Building VCF Operations Dashboard",
    "description": "A short blog about the joys of creating a dashboard in VCF 9 Operations.",
    "keywords": ["vcf", "vmware", "operations", "homelab"],
    "articleBody": "Introduction I currently have two different systems in my home lab for monitoring things. I started everything but never really finished it. I have a Grafana dashboard for power consumption and an Uptime Kuma to check the general availability of systems. As I have to run a VCF Operations anyway so that I can license my Baselab, I thought, why not use Operations for monitoring purposes, since it’s there anyway.\nHow hard can it be? Spoiler alert: I never thought I’d be building a Docker container, using a proxy, and converting things with Python, but let’s dive down the rabbit hole.\nFirst things first, where do we start? In VCF 9, the Management Pack Builder is integrated into Operations. Management Pack Builder? Yes, that’s the tool I’ve probably seen the most over the last few days. The MP allows you to integrate external systems or data sources and use them to create metrics and properties. Sounds simple, and it is—in theory. But first you have to find the tool, because it has been well hidden in Operations. You can find the MP under Administration -\u003e Integrations -\u003e Marketplace and then access it via the Create Management Pack button or or Developer Center -\u003e Managment Pack Builder.\nMy first management pack I will describe the process using the Unraid API as an example. My UPS itself does not have an API, but my Unraid storage system can read my UPS data via a USB connection. Since Unraid 7.2, there is now also an API that provides me with the data - nice.\nIn principle, however, it can be said that depending on the API, MP can be super easy or hellish. More on that later. Unraid relies on GraphQL, which is ideal for VCF operations and, after a brief period of familiarization with how to access the data, is very easy to use. The nice thing is that there is exactly one endpoint, namely /graphql, and Unraid has a built-in Apollo server where you can easily click together your queries.\nDefine sources First, a source must be defined in MP, which is usually relatively easy. But here’s the first stumbling block: please use variables if you are using anything other than Basic Auth.\nData Source Connection (click to enlarge)\nWarning\rIf credentials are not provided via Basic Auth or variables, the access data is unencrypted in the Management Pack, especially when it is exported and made available to others. Basic Auth should also be avoided, as user data is transmitted unencrypted.\rThe data source serves as a template, which is used to develop the management pack. Once the management pack has been created, there are no more credentials in the data source, provided that you have followed the guidelines and not entered any credentials without variables. If you use basic authentication, variables are used automatically.\nThe actual configuration is fairly straightforward. you have to select a collector, the API endpoint, and the port. I have disabled certificate verification, but in production it should of course remain enabled. The base path is optional; for Unraid, graphql would be a good choice. You don’t have to specify a leading /, this is done automatically. Since Unraid uses API tokens, I created a variable called API-Toke via Custom Authentication.\nGlobal Settings (click to enlarge)\nNext are the global settings, which are very API-specific, and I will show another variation with the Veeam API later on. Unraid is relatively simple here; content type - application/json is more or less standard for most APIs, and my token must be specified in the HTTP header with x-api-key. The small paste icon allows you to access the defined variables, and everything is automatically entered correctly so that the previously defined variable is used.\nTest Connection (click to enlarge)\nThe final step is to test the connection. If the test is not successful, the connection cannot be saved. Any query can generally be used. In my example, I display the system version of my Unraid server. Unraid only uses POST queries. The global HTTP headers are added automatically.\nInfo\rContent-Type is always included by the MP, whether you want it or not. If Content-Type is not required, you can specify text/plain. The OPNSense API requires this.\rTo query data, you have to send a query in the body with Unraid. This is again very specific.\nIf everything works, you will receive a valid response on the right-hand side and you can save the connection. Step 1 is now successfully complete.\nCreate Requests Next, the requests must be created. These requests will then be used later to retrieve the data.\nRequests (click to enlarge)\nInfo\rIf you need to create additional requests afterwards (after the management pack has been installed) because data is missing or the API has changed, you must uninstall the management pack and reinstall the updated version. Afterwards, existing dashboards must be adjusted again.\rAPI Requests (click to enlarge)\nIn my example, I query the utilization of my UPS via the Unraid API so that I can use the data later in an object. And as you can see here, I didn’t follow my own recommendation for this request and my API token is hardcoded in the request. Please do better. In my defense, that was my first request, and I will adjust it in the next update of the management pack.\nCreate Objects Next, the objects must be created. Each object needs at least one identifier, which must be unique, and an object can contain several metrics and/or properties. Metrics and properties are not mandatory. An object can therefore consist of metrics only or properties only. The difference between metrics and properties is quite simple: metrics can be calculated and must be of the decimal data type, while properties are strings. The unique ID is implemented via a property. Each object can only receive data via one request.\nObjects (click to enlarge)\nWhen selecting the attributes, it is important to pay close attention to what is selected and always rely on the result of the API. In the end, clearly assignable values are required. Arrays such as upsDevices.* or data.* are not suitable for metrics. In this case, data.upsDevices.* must be selected, as all results always belong to exactly one upsDevice and can therefore ideally represent an object. If there are several UPS systems in upsDevices, several objects are automatically created.\nProperties and Metrics (click to enlarge)\nSelecting the metrics and properties is super simple, but at the same time it’s the biggest problem when dealing with APIs. Unfortunately, you can’t convert the results in any other way; it’s either a string or a decimal. It’s the same as when you only have a hammer, then suddenly everything looks like a nail. In my cases with different APIs, almost everything was a stirng. At least with Decimal, you can still specify the most common units, such as %, bit, byte, byte/s, and so on.\nInfo\rA little tip: if you open the metric or property using the small » arrows, you will see a preview of the future metric or property.\rFinally, you just need to select a property as the object instance name and an object ID, which must of course be unique. Since I only have one UPS, I can use the UPS name as both the object instance name and the object ID.\nFinally, a verification must be performed before the Management Pack can be installed. Relationshops and events are optional, and for my purposes, I do not need them at this time and will therefore leave them out.\nVerify (click to enlarge)\nCongratulations, we have now created our first objects and metrics definition.\nSide quest: Incompatible APIs, or rather, what to do when I need a metric but only get properties. Well, friends, I had this problem with the OPNSense API. I can create objects perfectly well using the method described, but the API only returns a string with, for example, 6.7 ms for the latency. The Management Pack Builder can only interpret this as a string because of the unit that is attached, which means I can’t use it for calculations or to display a metric history, for example. But there is a solution.\nFastAPI + Phyton = beautiful metrics What is FastAPI? FastAPI was created to build type-safe REST APIs quickly and easily with Python. I use uvicorn as a fast and lightweight web server. I did the development in PyCharm. The tool runs on my system as a docker. In PyCharm, I created a new project and created exactly two files: requirements.txt and my actual proxy.py. The required libraries are listed in requirements.txt.\nrequirements.txt:\nfastapi uvicorn[standard] requests proxy.py:\nimport os, re import requests from fastapi import FastAPI, Request, Response, HTTPException UPSTREAM = os.environ.get(\"UPSTREAM_BASE\", \"https://xxx.xxx\") VERIFY_TLS = os.environ.get(\"VERIFY_TLS\", \"false\").lower() == \"true\" TIMEOUT = float(os.environ.get(\"TIMEOUT\", \"10\")) app = FastAPI() _ms = re.compile(r\"^\\s*([0-9]+(?:\\.[0-9]+)?)\\s*ms\\s*$\", re.I) _pct = re.compile(r\"^\\s*([0-9]+(?:\\.[0-9]+)?)\\s*%\\s*$\", re.I) def parse_ms(v): m = _ms.match(v or \"\") return float(m.group(1)) if m else None def parse_pct(v): m = _pct.match(v or \"\") return float(m.group(1)) if m else None @app.get(\"/api/routing/settings/search_gateway\") def search_gateway(request: Request): auth = request.headers.get(\"authorization\") if not auth: raise HTTPException(status_code=401, detail=\"Missing Authorization header\") url = f\"{UPSTREAM}/api/routing/settings/search_gateway\" headers = {\"Authorization\": auth, \"Accept\": \"application/json\"} try: r = requests.get(url, headers=headers, timeout=TIMEOUT, verify=VERIFY_TLS) except requests.RequestException as e: raise HTTPException(status_code=502, detail=f\"Upstream request failed: {e}\") if r.status_code \u003e= 400: return Response( content=r.text, status_code=r.status_code, media_type=r.headers.get(\"content-type\", \"text/plain\"), ) try: data = r.json() except ValueError: raise HTTPException(status_code=502, detail=\"Upstream returned invalid JSON\") for row in data.get(\"rows\", []): if isinstance(row.get(\"delay\"), str): v = parse_ms(row[\"delay\"]) if v is not None: row[\"delay_ms\"] = v if isinstance(row.get(\"stddev\"), str): v = parse_ms(row[\"stddev\"]) if v is not None: row[\"stddev_ms\"] = v if isinstance(row.get(\"loss\"), str): v = parse_pct(row[\"loss\"]) if v is not None: row[\"loss_pct\"] = v return data The whole thing is started in my development environment with uvicorn proxy:app –host 0.0.0.0 –port 666\nPyCharm (click to enlarge)\nOf course, this is only intended for development purposes. Later, I built a Docker container from it that runs on my Unraid server, is backed up, and also starts automatically. It is important to note that authentication is not touched and is simply passed on. In Python, I parse the values for delay, stddev, and loss and remove the units. However, I keep the original values and simply output additional values that do not have units. FastAPI thus serves as an API proxy, and I no longer address my OPNSense directly, but rather the FastAPI Docker container, which then returns a usable API to me.\nBut back to the actual topic.\nBuilding Dashboards I now have my object definitions, and in order to actually receive data, I need to create an account under Administration -\u003e Integrations. Unraid (the created management pack) is now also available as an account type, and I need to enter the data for the API here. Host name, collector, port, SSL configuration, and so on.\nTo view my objects now, you can find them under Inventory -\u003e Integrations. The object type UPSLoad that I created can be found in the Unraid integration. If the API returned more than one UPS here, there would be two objects of the object type UPSload. Within the object, you can find the queried values in the Metric Power Load Percentage. It takes at least 5 minutes for the first values to appear.\nUPS Object (click to enlarge)\nYou can now work with these values. However, I only have a percentage value and I would prefer to see the watts displayed, because I can imagine more under 300 watts than under 34% usage. But how does that work?\nSuper Metrics Super metrics are values that can be calculated using other metrics. You can also use super metrics for super metrics. However, it is important to remember that the source metric must be available before the super metric can be calculated. It is also important that the super metric is assigned to the correct object type. In my case, the object type is UPSLoad.\nA Super Metric must also be assigned to a policy. If this is forgotten, there will be no values. I use the default policy that is used for every object here. However, you could also write a specific policy.\nSuper Metrics (click to enlarge)\nThe rest is simple math. Since I know the maximum power of the UPS, i.e., how many watts 100% is, I can easily convert the percentage into watts.\nAfter 1-2 intervals have passed, the Super Metric is displayed in the object and can be used. This can be checked via Inventory. Info\rThe default interval is 5 minutes, but it can be adjusted to a minimum of 1 minute for objects. The query interval should be adjusted depending on the object and the data.\rBuilding the Dashboard Now that the basics are done and the first objects are appearing in Operations, I can start building a dashboard. A new dashboard can be created under Infrastructure Operations -\u003e Dashboards \u0026 Reports. There are quite a few widgets available for displaying various metrics. For watts, a metric chart is useful, as it can show consumption over a certain period of time. Each widget has a refresh counter (which only determines the interval at which the widget is updated, not the object). Another important option is Self Provider. On means the widget is independent of other widgets. It does not take input from other widgets, hence it requires input to be configured in the widget itself.\nOutput Data (click to enlarge)\nUnder Input Data, you can choose whether you want to have a complete object (or several) as input or just metrics. If I take the object as input, I can also display properties. The actual output of the widget is then configured under Output Data. Input and output must match. If I select an object as input that is not of the same object type as my output metric, no content will be displayed.\nThe finished widget now looks something like this.\nWidget (click to enlarge)\nIt wasn’t that difficult, and now all the basics are in place to build a nice dashboard. Of course, there’s a lot more you can do, such as symptom definitions that trigger something when certain metrics occur or properties change. For example, I wrote a symptom definition that reduces the health value of a Veeam object if the backup status is not successful. This also triggers an alarm.\nBut I think I’d rather write about that separately, because it’s a topic in its own right. The same goes for the Health Metric, which automatically assigns operations to each object.\nMy final dashboard now looks like this.\nFinal Dashboard (click to enlarge)\nSide Quest - Bearer Token The Veeam API uses bearer tokens with limited runtime, which means that an API request must first be created with a username and password to generate a token before a request to retrieve data can be made. Fortunately, the Management Pack Builder also supports this, but it’s all a bit fiddly, so I’ll describe it here. For Veeam to work, authentication in the Data Source Connection must be set to Custom, otherwise we will not be able to create a secure variable. It is also important to enable Use Session Authentication.\nVeeam (click to enlarge)\nFrom here on, things change slightly, as we now have to perform two requests. It is also important to note that the username and password must be included in the body for Veeam. A variable is also used for the password here. From here on, things change slightly, as we now have to perform two requests. It is also important to note that Veeam also requires special headers. However, as Veeam uses Swagger, you can extract all of this information from there.\nVeeam Session (click to enlarge)\nAfter successfully creating a session, we can now see the token under Global Settings in Session Fields. Session Fields are automatic variables that must be used for the Test Connection and also for the Release Session request. We don’t need to change anything in Global Settings, and since I didn’t want to censor another screenshot, I decided not to bother.\nRelease Session (click to enlarge)\nA release session request is nothing more than a logout command, after which the data is retrieved. This should be used to ensure that the session is closed properly.\nAs a final step, a test connection must be performed so that the DataSource can be saved. I simply queried the session information for this, but ultimately it doesn’t matter what is queried here as long as a valid result is returned.\nFinal Test (click to enlarge)\nIf the data source is set up in this way, the Management Pack is also secure for export, as no credentials are stored. When integrating into Operations, the username and password must then be provided. The session is created, the token is generated, and the session is closed cleanly with each data retrieval cycle. Everything else is exactly the same as previously described for the Unraid API.\nSummary VCF Operations is a powerful tool, albeit a little outdated in some areas, particularly when it comes to handling APIs, where you can still see the product’s roots and age. Nevertheless, with a little work, Operations can be expanded wonderfully to monitor more than just the VMware environment. If you want, you can build a weather report into the dashboard – why not?\nOf course, this article only scratches the surface; we haven’t talked about views yet, or how the whole Alarming works, or how to work with colors, and so on. Considering that it’s already almost 3 a.m. and the topic is so extensive, I’ll write a more in-depth article if there’s interest. I hope I’ve been able to help you make even better use of your operations.\nLooking at my final dashboard, I’m quite excited about how much you can achieve with it in a short amount of time. I only looked into the topic about a week ago and have been cautiously playing around with it. My thanks also go to Dale Hassinger, who was kind enough to help me. Check out his blog.\nAnd now all that remains for me to say is, happy creating and Merry Christmas!\n",
    "wordCount" : "3044",
    "inLanguage": "en",
    "image":"https://sdn-warrior.org/images/disc.jpg","datePublished": "2025-12-20T03:00:00+01:00",
    "dateModified": "2025-12-20T03:00:00+01:00",
    "author":{
        "@type": "Person",
        "name": "SDN-Warrior",
        "url": "https://sdn-warrior.org/about/"
        },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://sdn-warrior.org/posts/vcf9-operations-dashboard/"
    },
    "publisher": {
      "@type": "Organization",
      "name": "SDN-Warrior | Daniel Krieger",
      "description": "",
      "logo": {
        "@type": "ImageObject",
        "url": "https://sdn-warrior.org/favicon.ico"
      }
    }
}
</script><title>VCF9 - Building VCF Operations Dashboard</title>
<link rel="stylesheet dns-prefetch preconnect preload prefetch" as="style" href="https://sdn-warrior.org/css/style.min.4a710a7c0d2021c556818ee82d473cb9b2609d3edea5ab7e43529e3680d670ad.css" integrity="sha256-SnEKfA0gIcVWgY7oLUc8ubJgnT7epat+Q1KeNoDWcK0=" crossorigin="anonymous">
	<style>.bg-img {background-image: url('/images/disc.jpg');}</style></head>
<body id="page">
	<header id="site-header">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://sdn-warrior.org/">SDN-Warrior | Daniel Krieger</a>
				</div>
				<nav class="site-nav hide-in-mobile"><a href="https://sdn-warrior.org/posts/">Posts</a><a href="https://sdn-warrior.org/lab-bom/">Lab BOM</a><a href="https://sdn-warrior.org/links/">Links</a><a href="https://sdn-warrior.org/about/">About Me</a></nav>
			</div>
			<div class="hdr-right hdr-icons">
				<button id="img-btn" class="hdr-btn" title=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image">
      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
      <circle cx="8.5" cy="8.5" r="1.5"></circle>
      <polyline points="21 15 16 10 5 21"></polyline>
   </svg></button><span class="hdr-links hide-in-mobile"><a href="https://de.linkedin.com/in/daniel-krieger-6476591a9" target="_blank" rel="noopener me" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none"
   stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
   <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
   <rect x="2" y="9" width="4" height="12"></rect>
   <circle cx="4" cy="4" r="2"></circle>
</svg></a></span><button id="share-btn" class="hdr-btn" title=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share-2">
      <circle cx="18" cy="5" r="3"></circle>
      <circle cx="6" cy="12" r="3"></circle>
      <circle cx="18" cy="19" r="3"></circle>
      <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
      <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
   </svg></button>
 
<div id="share-links" class="animated fast">
    
    
    
    
    <ul>
        <li>
            <a href="https://twitter.com/intent/tweet?hashtags=hermit2&amp;url=https%3a%2f%2fsdn-warrior.org%2fposts%2fvcf9-operations-dashboard%2f&amp;text=VCF9%20-%20Building%20VCF%20Operations%20Dashboard" target="_blank" rel="noopener" aria-label="Share on X"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none"
   stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
   <path class="st0" d="m21.3 21.1 -11.4 -18.2h-7.2l11.4 18.2zm-18.6 0 7.2 -6.6m4.2 -5 7.2 -6.6" />
</svg></a>
        </li>
        <li>
            <a href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsdn-warrior.org%2fposts%2fvcf9-operations-dashboard%2f" target="_blank" rel="noopener" aria-label="Share on Facebook"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none"
   stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
   <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
</svg></a>
        </li>
        <li>
            <a href="mailto:?subject=VCF9%20-%20Building%20VCF%20Operations%20Dashboard&amp;body=https%3a%2f%2fsdn-warrior.org%2fposts%2fvcf9-operations-dashboard%2f" target="_self" rel="noopener" aria-label="Share on Email"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none"
   stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
   <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
   <polyline points="22,6 12,13 2,6"></polyline>
</svg></a>
        </li>
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fsdn-warrior.org%2fposts%2fvcf9-operations-dashboard%2f&amp;source=https%3a%2f%2fsdn-warrior.org%2f&amp;title=VCF9%20-%20Building%20VCF%20Operations%20Dashboard&amp;summary=VCF9%20-%20Building%20VCF%20Operations%20Dashboard%2c%20by%20SDN-Warrior%0a%0aA%20short%20blog%20about%20the%20joys%20of%20creating%20a%20dashboard%20in%20VCF%209%20Operations.%0a" target="_blank" rel="noopener" aria-label="Share on LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none"
   stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
   <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
   <rect x="2" y="9" width="4" height="12"></rect>
   <circle cx="4" cy="4" r="2"></circle>
</svg></a>
        </li>
        <li>
            <a href="#" onclick="linkShare(&#34;VCF9 - Building VCF Operations Dashboard&#34;,&#34;https://sdn-warrior.org/posts/vcf9-operations-dashboard/&#34;,&#34;VCF9 - Building VCF Operations Dashboard, by SDN-Warrior\n\nA short blog about the joys of creating a dashboard in VCF 9 Operations.\n&#34;); return false;" target="_self" rel="noopener" aria-label="Copy Link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy">
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
   </svg></a>
        </li>
    </ul>
</div><button id="menu-btn" class="hdr-btn" title=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
   </svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://sdn-warrior.org/posts/">Posts</a></li>
			<li><a href="https://sdn-warrior.org/lab-bom/">Lab BOM</a></li>
			<li><a href="https://sdn-warrior.org/links/">Links</a></li>
			<li><a href="https://sdn-warrior.org/about/">About Me</a></li>
		</ul>
	</div>


	<div class="bg-img"></div>
	<main class="site-main section-inner animated fadeIn faster"><article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Dec 20, 2025</span></div>
				<h1>VCF9 - Building VCF Operations Dashboard</h1>
			</header>
			<div class="post-info"><p>A short blog about the joys of creating a dashboard in VCF 9 Operations.</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
   stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-feather">
   <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path>
   <line x1="16" y1="8" x2="2" y2="22"></line>
   <line x1="17.5" y1="15" x2="9" y2="15"></line>
</svg><a href="/about/" target="_blank">SDN-Warrior</a></p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon">
      <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
      <line x1="7" y1="7" x2="7" y2="7"></line>
   </svg><span class="tag"><a href="https://sdn-warrior.org/tags/vcf">vcf</a></span><span class="tag"><a href="https://sdn-warrior.org/tags/vmware">vmware</a></span><span class="tag"><a href="https://sdn-warrior.org/tags/operations">operations</a></span><span class="tag"><a href="https://sdn-warrior.org/tags/homelab">homelab</a></span></p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
      <polyline points="14 2 14 8 20 8"></polyline>
      <line x1="16" y1="13" x2="8" y2="13"></line>
      <line x1="16" y1="17" x2="8" y2="17"></line>
      <polyline points="10 9 9 9 8 9"></polyline>
   </svg>3044 Words
     // ReadTime
    
    
    
    13 Minutes, 50 Seconds</p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
      <line x1="16" y1="2" x2="16" y2="6"></line>
      <line x1="8" y1="2" x2="8" y2="6"></line>
      <line x1="3" y1="10" x2="21" y2="10"></line>
   </svg>2025-12-20 03:00 &#43;0100</p></div>
			<hr class="post-end">
			<div class="content">
				<h2 id="introduction">Introduction<a href="#introduction" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p>I currently have two different systems in my home lab for monitoring things.
I started everything but never really finished it.
I have a Grafana dashboard for power consumption and an Uptime Kuma to check the general availability of systems.
As I have to run a VCF Operations anyway so that I can license my Baselab, I thought, why not use Operations for monitoring purposes, since it&rsquo;s there anyway.</p>
<p>How hard can it be? Spoiler alert: I never thought I&rsquo;d be building a Docker container, using a proxy, and converting things with Python, but let&rsquo;s dive down the rabbit hole.</p>
<h2 id="first-things-first-where-do-we-start">First things first, where do we start?<a href="#first-things-first-where-do-we-start" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p>In VCF 9, the Management Pack Builder is integrated into Operations. Management Pack Builder? Yes, that&rsquo;s the tool I&rsquo;ve probably seen the most over the last few days.
The MP allows you to integrate external systems or data sources and use them to create metrics and properties. Sounds simple, and it is—in theory.
But first you have to find the tool, because it has been well hidden in Operations.
You can find the MP under Administration -&gt; Integrations -&gt; Marketplace and then access it via the Create Management Pack button or or Developer Center -&gt; Managment Pack Builder.</p>
<h2 id="my-first-management-pack">My first management pack<a href="#my-first-management-pack" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p>I will describe the process using the Unraid API as an example.
My UPS itself does not have an API, but my Unraid storage system can read my UPS data via a USB connection.
Since Unraid 7.2, there is now also an API that provides me with the data - nice.</p>
<p>In principle, however, it can be said that depending on the API, MP can be super easy or hellish. More on that later.
Unraid relies on GraphQL, which is ideal for VCF operations and, after a brief period of familiarization with how to access the data, is very easy to use.
The nice thing is that there is exactly one endpoint, namely <em><strong>/graphql</strong></em>, and Unraid has a built-in Apollo server where you can easily click together your queries.</p>
<h3 id="define-sources">Define sources<a href="#define-sources" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p>First, a source must be defined in MP, which is usually relatively easy.
But here&rsquo;s the first stumbling block: please use variables if you are using anything other than Basic Auth.</p>

<figure><a href="01.png"><picture>
          <source srcset="/vcf9-ops-dashboard/01_hu_ef50244354bcbffa.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/01_hu_2aba7eaf680b6cfc.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/01_hu_ef50244354bcbffa.webp"alt="Data Source Connection"  width="1678"  height="1205" />
        </picture></a><figcaption>
            <p>Data Source Connection (click to enlarge)</p>
          </figcaption></figure>

    <aside class="admonition warning">
        <div class="admonition-title">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="8" x2="12" y2="12"></line>
      <line x1="12" y1="16" x2="12.01" y2="16"></line>
   </svg></div><b>Warning</b>
        </div>
        <div class="admonition-content">If credentials are not provided via Basic Auth or variables, the access data is unencrypted in the Management Pack, especially when it is exported and made available to others. Basic Auth should also be avoided, as user data is transmitted unencrypted.</div>
    </aside>
<p>The data source serves as a template, which is used to develop the management pack.
Once the management pack has been created, there are no more credentials in the data source, provided that you have followed the guidelines and not entered any credentials without variables.
If you use basic authentication, variables are used automatically.</p>
<p>The actual configuration is fairly straightforward. you have to select a collector, the API endpoint, and the port.
I have disabled certificate verification, but in production it should of course remain enabled. The base path is optional; for Unraid, graphql would be a good choice.
You don&rsquo;t have to specify a leading /, this is done automatically.
Since Unraid uses API tokens, I created a variable called API-Toke via Custom Authentication.</p>

<figure><a href="02.png"><picture>
          <source srcset="/vcf9-ops-dashboard/02_hu_9f2e88b5413b4559.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/02_hu_13c6babf52ca145c.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/02_hu_9f2e88b5413b4559.webp"alt="Global Settings"  width="1328"  height="688" />
        </picture></a><figcaption>
            <p>Global Settings (click to enlarge)</p>
          </figcaption></figure>
<p>Next are the global settings, which are very API-specific, and I will show another variation with the Veeam API later on.
Unraid is relatively simple here; content type - application/json is more or less standard for most APIs, and my token must be specified in the HTTP header with x-api-key.
The small paste icon allows you to access the defined variables, and everything is automatically entered correctly so that the previously defined variable is used.</p>

<figure><a href="03.png"><picture>
          <source srcset="/vcf9-ops-dashboard/03_hu_56de2f50feb94ba9.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/03_hu_5551334fd1006b03.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/03_hu_56de2f50feb94ba9.webp"alt="Test Connection"  width="1174"  height="1019" />
        </picture></a><figcaption>
            <p>Test Connection (click to enlarge)</p>
          </figcaption></figure>
<p>The final step is to test the connection. If the test is not successful, the connection cannot be saved.
Any query can generally be used. In my example, I display the system version of my Unraid server.
Unraid only uses POST queries. The global HTTP headers are added automatically.</p>

    <aside class="admonition info">
        <div class="admonition-title">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="16" x2="12" y2="12"></line>
      <line x1="12" y1="8" x2="12.01" y2="8"></line>
   </svg></div><b>Info</b>
        </div>
        <div class="admonition-content">Content-Type is always included by the MP, whether you want it or not.
If Content-Type is not required, you can specify text/plain. The OPNSense API requires this.</div>
    </aside>
<p>To query data, you have to send a query in the body with Unraid. This is again very specific.</p>
<p>If everything works, you will receive a valid response on the right-hand side and you can save the connection. Step 1 is now successfully complete.</p>
<h3 id="create-requests">Create Requests<a href="#create-requests" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p>Next, the requests must be created. These requests will then be used later to retrieve the data.</p>

<figure><a href="04.png"><picture>
          <source srcset="/vcf9-ops-dashboard/04_hu_a611acfb91e3a312.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/04_hu_a1f1b5a6359e16ef.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/04_hu_a611acfb91e3a312.webp"alt="Requests"  width="1442"  height="620" />
        </picture></a><figcaption>
            <p>Requests (click to enlarge)</p>
          </figcaption></figure>

    <aside class="admonition info">
        <div class="admonition-title">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="16" x2="12" y2="12"></line>
      <line x1="12" y1="8" x2="12.01" y2="8"></line>
   </svg></div><b>Info</b>
        </div>
        <div class="admonition-content">If you need to create additional requests afterwards (after the management pack has been installed) because data is missing or the API has changed, you must uninstall the management pack and reinstall the updated version.
Afterwards, existing dashboards must be adjusted again.</div>
    </aside>

<figure><a href="05.png"><picture>
          <source srcset="/vcf9-ops-dashboard/05_hu_6a0835b35cd8a2ff.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/05_hu_759cd0e38f6096de.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/05_hu_6a0835b35cd8a2ff.webp"alt="API Requests"  width="1519"  height="1108" />
        </picture></a><figcaption>
            <p>API Requests (click to enlarge)</p>
          </figcaption></figure>
<p>In my example, I query the utilization of my UPS via the Unraid API so that I can use the data later in an object.
And as you can see here, I didn&rsquo;t follow my own recommendation for this request and my API token is hardcoded in the request. Please do better.
In my defense, that was my first request, and I will adjust it in the next update of the management pack.</p>
<h3 id="create-objects">Create Objects<a href="#create-objects" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p>Next, the objects must be created. Each object needs at least one identifier, which must be unique, and an object can contain several metrics and/or properties.
Metrics and properties are not mandatory. An object can therefore consist of metrics only or properties only.
The difference between metrics and properties is quite simple: metrics can be calculated and must be of the decimal data type, while properties are strings.
The unique ID is implemented via a property. Each object can only receive data via one request.</p>

<figure><a href="06.png"><picture>
          <source srcset="/vcf9-ops-dashboard/06_hu_bb77c9141251fbc7.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/06_hu_6801113593f77d88.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/06_hu_bb77c9141251fbc7.webp"alt="Objects"  width="1669"  height="1064" />
        </picture></a><figcaption>
            <p>Objects (click to enlarge)</p>
          </figcaption></figure>
<p>When selecting the attributes, it is important to pay close attention to what is selected and always rely on the result of the API.
In the end, clearly assignable values are required. Arrays such as upsDevices.* or data.* are not suitable for metrics.
In this case, data.upsDevices.* must be selected, as all results always belong to exactly one upsDevice and can therefore ideally represent an object.
If there are several UPS systems in upsDevices, several objects are automatically created.</p>

<figure><a href="07.png"><picture>
          <source srcset="/vcf9-ops-dashboard/07_hu_22c6d4b1a7ddecf0.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/07_hu_3bc95d382b1d56b.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/07_hu_22c6d4b1a7ddecf0.webp"alt="Properties and Metrics"  width="1678"  height="906" />
        </picture></a><figcaption>
            <p>Properties and Metrics (click to enlarge)</p>
          </figcaption></figure>
<p>Selecting the metrics and properties is super simple, but at the same time it&rsquo;s the biggest problem when dealing with APIs.
Unfortunately, you can&rsquo;t convert the results in any other way; it&rsquo;s either a string or a decimal.
It&rsquo;s the same as when you only have a hammer, then suddenly everything looks like a nail.
In my cases with different APIs, almost everything was a stirng. At least with Decimal, you can still specify the most common units, such as %, bit, byte, byte/s, and so on.</p>

    <aside class="admonition info">
        <div class="admonition-title">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="16" x2="12" y2="12"></line>
      <line x1="12" y1="8" x2="12.01" y2="8"></line>
   </svg></div><b>Info</b>
        </div>
        <div class="admonition-content">A little tip: if you open the metric or property using the small &raquo; arrows, you will see a preview of the future metric or property.</div>
    </aside>
<p>Finally, you just need to select a property as the object instance name and an object ID, which must of course be unique. Since I only have one UPS, I can use the UPS name as both the object instance name and the object ID.</p>
<p>Finally, a verification must be performed before the Management Pack can be installed.
Relationshops and events are optional, and for my purposes, I do not need them at this time and will therefore leave them out.</p>

<figure><a href="08.png"><picture>
          <source srcset="/vcf9-ops-dashboard/08_hu_c15c7013d2a656aa.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/08_hu_9ae2c0b23462a453.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/08_hu_c15c7013d2a656aa.webp"alt="Verify"  width="1442"  height="888" />
        </picture></a><figcaption>
            <p>Verify (click to enlarge)</p>
          </figcaption></figure>
<p>Congratulations, we have now created our first objects and metrics definition.</p>
<h2 id="side-quest-incompatible-apis-or-rather-what-to-do-when-i-need-a-metric-but-only-get-properties">Side quest: Incompatible APIs, or rather, what to do when I need a metric but only get properties.<a href="#side-quest-incompatible-apis-or-rather-what-to-do-when-i-need-a-metric-but-only-get-properties" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p>Well, friends, I had this problem with the OPNSense API.
I can create objects perfectly well using the method described, but the API only returns a string with, for example, 6.7 ms for the latency.
The Management Pack Builder can only interpret this as a string because of the unit that is attached, which means I can&rsquo;t use it for calculations or to display a metric history, for example.
But there is a solution.</p>
<h3 id="fastapi--phyton--beautiful-metrics">FastAPI + Phyton = beautiful metrics<a href="#fastapi--phyton--beautiful-metrics" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p>What is FastAPI? FastAPI was created to build type-safe REST APIs quickly and easily with Python. I use uvicorn as a fast and lightweight web server.
I did the development in PyCharm. The tool runs on my system as a docker. In PyCharm, I created a new project and created exactly two files: requirements.txt and my actual proxy.py.
The required libraries are listed in requirements.txt.</p>
<p>requirements.txt:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">fastapi
</span></span><span class="line"><span class="cl">uvicorn<span class="o">[</span>standard<span class="o">]</span>
</span></span><span class="line"><span class="cl">requests
</span></span></code></pre></div><p>proxy.py:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">import os, re
</span></span><span class="line"><span class="cl">import requests
</span></span><span class="line"><span class="cl">from fastapi import FastAPI, Request, Response, HTTPException
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">UPSTREAM</span> <span class="o">=</span> os.environ.get<span class="o">(</span><span class="s2">&#34;UPSTREAM_BASE&#34;</span>, <span class="s2">&#34;https://xxx.xxx&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">VERIFY_TLS</span> <span class="o">=</span> os.environ.get<span class="o">(</span><span class="s2">&#34;VERIFY_TLS&#34;</span>, <span class="s2">&#34;false&#34;</span><span class="o">)</span>.lower<span class="o">()</span> <span class="o">==</span> <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">TIMEOUT</span> <span class="o">=</span> float<span class="o">(</span>os.environ.get<span class="o">(</span><span class="s2">&#34;TIMEOUT&#34;</span>, <span class="s2">&#34;10&#34;</span><span class="o">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">app</span> <span class="o">=</span> FastAPI<span class="o">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">_ms</span> <span class="o">=</span> re.compile<span class="o">(</span>r<span class="s2">&#34;^\s*([0-9]+(?:\.[0-9]+)?)\s*ms\s*</span>$<span class="s2">&#34;</span>, re.I<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">_pct</span> <span class="o">=</span> re.compile<span class="o">(</span>r<span class="s2">&#34;^\s*([0-9]+(?:\.[0-9]+)?)\s*%\s*</span>$<span class="s2">&#34;</span>, re.I<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">def parse_ms<span class="o">(</span>v<span class="o">)</span>:
</span></span><span class="line"><span class="cl">    <span class="nv">m</span> <span class="o">=</span> _ms.match<span class="o">(</span>v or <span class="s2">&#34;&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> float<span class="o">(</span>m.group<span class="o">(</span>1<span class="o">))</span> <span class="k">if</span> m <span class="k">else</span> None
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">def parse_pct<span class="o">(</span>v<span class="o">)</span>:
</span></span><span class="line"><span class="cl">    <span class="nv">m</span> <span class="o">=</span> _pct.match<span class="o">(</span>v or <span class="s2">&#34;&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> float<span class="o">(</span>m.group<span class="o">(</span>1<span class="o">))</span> <span class="k">if</span> m <span class="k">else</span> None
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">@app.get<span class="o">(</span><span class="s2">&#34;/api/routing/settings/search_gateway&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">def search_gateway<span class="o">(</span>request: Request<span class="o">)</span>:
</span></span><span class="line"><span class="cl">    <span class="nv">auth</span> <span class="o">=</span> request.headers.get<span class="o">(</span><span class="s2">&#34;authorization&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> not auth:
</span></span><span class="line"><span class="cl">        raise HTTPException<span class="o">(</span><span class="nv">status_code</span><span class="o">=</span>401, <span class="nv">detail</span><span class="o">=</span><span class="s2">&#34;Missing Authorization header&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">url</span> <span class="o">=</span> f<span class="s2">&#34;{UPSTREAM}/api/routing/settings/search_gateway&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">headers</span> <span class="o">=</span> <span class="o">{</span><span class="s2">&#34;Authorization&#34;</span>: auth, <span class="s2">&#34;Accept&#34;</span>: <span class="s2">&#34;application/json&#34;</span><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    try:
</span></span><span class="line"><span class="cl">        <span class="nv">r</span> <span class="o">=</span> requests.get<span class="o">(</span>url, <span class="nv">headers</span><span class="o">=</span>headers, <span class="nv">timeout</span><span class="o">=</span>TIMEOUT, <span class="nv">verify</span><span class="o">=</span>VERIFY_TLS<span class="o">)</span>
</span></span><span class="line"><span class="cl">    except requests.RequestException as e:
</span></span><span class="line"><span class="cl">        raise HTTPException<span class="o">(</span><span class="nv">status_code</span><span class="o">=</span>502, <span class="nv">detail</span><span class="o">=</span>f<span class="s2">&#34;Upstream request failed: {e}&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> r.status_code &gt;<span class="o">=</span> 400:
</span></span><span class="line"><span class="cl">        <span class="k">return</span> Response<span class="o">(</span>
</span></span><span class="line"><span class="cl">            <span class="nv">content</span><span class="o">=</span>r.text,
</span></span><span class="line"><span class="cl">            <span class="nv">status_code</span><span class="o">=</span>r.status_code,
</span></span><span class="line"><span class="cl">            <span class="nv">media_type</span><span class="o">=</span>r.headers.get<span class="o">(</span><span class="s2">&#34;content-type&#34;</span>, <span class="s2">&#34;text/plain&#34;</span><span class="o">)</span>,
</span></span><span class="line"><span class="cl">        <span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    try:
</span></span><span class="line"><span class="cl">        <span class="nv">data</span> <span class="o">=</span> r.json<span class="o">()</span>
</span></span><span class="line"><span class="cl">    except ValueError:
</span></span><span class="line"><span class="cl">        raise HTTPException<span class="o">(</span><span class="nv">status_code</span><span class="o">=</span>502, <span class="nv">detail</span><span class="o">=</span><span class="s2">&#34;Upstream returned invalid JSON&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> row in data.get<span class="o">(</span><span class="s2">&#34;rows&#34;</span>, <span class="o">[])</span>:
</span></span><span class="line"><span class="cl">        <span class="k">if</span> isinstance<span class="o">(</span>row.get<span class="o">(</span><span class="s2">&#34;delay&#34;</span><span class="o">)</span>, str<span class="o">)</span>:
</span></span><span class="line"><span class="cl">            <span class="nv">v</span> <span class="o">=</span> parse_ms<span class="o">(</span>row<span class="o">[</span><span class="s2">&#34;delay&#34;</span><span class="o">])</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> v is not None:
</span></span><span class="line"><span class="cl">                row<span class="o">[</span><span class="s2">&#34;delay_ms&#34;</span><span class="o">]</span> <span class="o">=</span> v
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> isinstance<span class="o">(</span>row.get<span class="o">(</span><span class="s2">&#34;stddev&#34;</span><span class="o">)</span>, str<span class="o">)</span>:
</span></span><span class="line"><span class="cl">            <span class="nv">v</span> <span class="o">=</span> parse_ms<span class="o">(</span>row<span class="o">[</span><span class="s2">&#34;stddev&#34;</span><span class="o">])</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> v is not None:
</span></span><span class="line"><span class="cl">                row<span class="o">[</span><span class="s2">&#34;stddev_ms&#34;</span><span class="o">]</span> <span class="o">=</span> v
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> isinstance<span class="o">(</span>row.get<span class="o">(</span><span class="s2">&#34;loss&#34;</span><span class="o">)</span>, str<span class="o">)</span>:
</span></span><span class="line"><span class="cl">            <span class="nv">v</span> <span class="o">=</span> parse_pct<span class="o">(</span>row<span class="o">[</span><span class="s2">&#34;loss&#34;</span><span class="o">])</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> v is not None:
</span></span><span class="line"><span class="cl">                row<span class="o">[</span><span class="s2">&#34;loss_pct&#34;</span><span class="o">]</span> <span class="o">=</span> v
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> data
</span></span></code></pre></div><p>The whole thing is started in my development environment with <em><strong>uvicorn proxy:app &ndash;host 0.0.0.0 &ndash;port 666</strong></em></p>

<figure><a href="09.png"><picture>
          <source srcset="/vcf9-ops-dashboard/09_hu_b507e29e1ef8617f.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/09_hu_52b07fb97ea93539.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/09_hu_b507e29e1ef8617f.webp"alt="PyCharm"  width="1717"  height="1250" />
        </picture></a><figcaption>
            <p>PyCharm (click to enlarge)</p>
          </figcaption></figure>
<p>Of course, this is only intended for development purposes.
Later, I built a Docker container from it that runs on my Unraid server, is backed up, and also starts automatically.
It is important to note that authentication is not touched and is simply passed on.
In Python, I parse the values for delay, stddev, and loss and remove the units.
However, I keep the original values and simply output additional values that do not have units.
FastAPI thus serves as an API proxy, and I no longer address my OPNSense directly, but rather the FastAPI Docker container, which then returns a usable API to me.</p>
<p>But back to the actual topic.</p>
<h2 id="building-dashboards">Building Dashboards<a href="#building-dashboards" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p>I now have my object definitions, and in order to actually receive data, I need to create an account under Administration -&gt; Integrations.
Unraid (the created management pack) is now also available as an account type, and I need to enter the data for the API here.
Host name, collector, port, SSL configuration, and so on.</p>
<p>To view my objects now, you can find them under <em><strong>Inventory -&gt; Integrations</strong></em>.
The object type <em><strong>UPSLoad</strong></em> that I created can be found in the Unraid integration.
If the API returned more than one UPS here, there would be two objects of the object type <em><strong>UPSload</strong></em>.
Within the object, you can find the queried values in the Metric Power Load Percentage.
It takes at least 5 minutes for the first values to appear.</p>

<figure><a href="10.png"><picture>
          <source srcset="/vcf9-ops-dashboard/10_hu_dd9223310a0880cb.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/10_hu_89e69928b6021437.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/10_hu_dd9223310a0880cb.webp"alt="UPS Object"  width="1715"  height="1239" />
        </picture></a><figcaption>
            <p>UPS Object (click to enlarge)</p>
          </figcaption></figure>
<p>You can now work with these values. However, I only have a percentage value and I would prefer to see the watts displayed, because I can imagine more under 300 watts than under 34% usage. But how does that work?</p>
<h3 id="super-metrics">Super Metrics<a href="#super-metrics" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p>Super metrics are values that can be calculated using other metrics.
You can also use super metrics for super metrics. However, it is important to remember that the source metric must be available before the super metric can be calculated.
It is also important that the super metric is assigned to the correct object type. In my case, the object type is UPSLoad.</p>
<p>A Super Metric must also be assigned to a policy. If this is forgotten, there will be no values.
I use the default policy that is used for every object here. However, you could also write a specific policy.</p>

<figure><a href="11.png"><picture>
          <source srcset="/vcf9-ops-dashboard/11_hu_f4dcb9ed51f0c0e.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/11_hu_697027353d75e1f3.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/11_hu_f4dcb9ed51f0c0e.webp"alt="Super Metrics"  width="1719"  height="935" />
        </picture></a><figcaption>
            <p>Super Metrics (click to enlarge)</p>
          </figcaption></figure>
<p>The rest is simple math.
Since I know the maximum power of the UPS, i.e., how many watts 100% is, I can easily convert the percentage into watts.</p>
<p>After 1-2 intervals have passed, the Super Metric is displayed in the object and can be used. This can be checked via Inventory.

    <aside class="admonition info">
        <div class="admonition-title">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="16" x2="12" y2="12"></line>
      <line x1="12" y1="8" x2="12.01" y2="8"></line>
   </svg></div><b>Info</b>
        </div>
        <div class="admonition-content">The default interval is 5 minutes, but it can be adjusted to a minimum of 1 minute for objects. The query interval should be adjusted depending on the object and the data.</div>
    </aside></p>
<h3 id="building-the-dashboard">Building the Dashboard<a href="#building-the-dashboard" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p>Now that the basics are done and the first objects are appearing in Operations, I can start building a dashboard.
A new dashboard can be created under <em><strong>Infrastructure Operations -&gt; Dashboards &amp; Reports</strong></em>.
There are quite a few widgets available for displaying various metrics. For watts, a metric chart is useful, as it can show consumption over a certain period of time.
Each widget has a refresh counter (which only determines the interval at which the widget is updated, not the object).
Another important option is <em><strong>Self Provider</strong></em>. On means the widget is independent of other widgets.
It does not take input from other widgets, hence it requires input to be configured in the widget itself.</p>

<figure><a href="12.png"><picture>
          <source srcset="/vcf9-ops-dashboard/12_hu_b362953534c33348.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/12_hu_39845474428da7b9.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/12_hu_b362953534c33348.webp"alt="Output Data"  width="1053"  height="717" />
        </picture></a><figcaption>
            <p>Output Data (click to enlarge)</p>
          </figcaption></figure>
<p>Under Input Data, you can choose whether you want to have a complete object (or several) as input or just metrics.
If I take the object as input, I can also display properties. The actual output of the widget is then configured under Output Data.
Input and output must match. If I select an object as input that is not of the same object type as my output metric, no content will be displayed.</p>
<p>The finished widget now looks something like this.</p>

<figure><a href="13.png"><picture>
          <source srcset="/vcf9-ops-dashboard/13_hu_cc1fa8c744fbae35.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/13_hu_56c192af102874a9.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/13_hu_cc1fa8c744fbae35.webp"alt="Widget"  width="824"  height="349" />
        </picture></a><figcaption>
            <p>Widget (click to enlarge)</p>
          </figcaption></figure>
<p>It wasn&rsquo;t that difficult, and now all the basics are in place to build a nice dashboard.
Of course, there&rsquo;s a lot more you can do, such as symptom definitions that trigger something when certain metrics occur or properties change.
For example, I wrote a symptom definition that reduces the health value of a Veeam object if the backup status is not successful. This also triggers an alarm.</p>
<p>But I think I&rsquo;d rather write about that separately, because it&rsquo;s a topic in its own right. The same goes for the Health Metric, which automatically assigns operations to each object.</p>
<p>My final dashboard now looks like this.</p>

<figure><a href="14.png"><picture>
          <source srcset="/vcf9-ops-dashboard/14_hu_941b71e441ee8942.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/14_hu_ee27144efb2f4804.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/14_hu_941b71e441ee8942.webp"alt="Final Dashboard"  width="1713"  height="1198" />
        </picture></a><figcaption>
            <p>Final Dashboard (click to enlarge)</p>
          </figcaption></figure>
<h3 id="side-quest---bearer-token">Side Quest - Bearer Token<a href="#side-quest---bearer-token" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p>The Veeam API uses bearer tokens with limited runtime, which means that an API request must first be created with a username and password to generate a token before a request to retrieve data can be made. Fortunately, the Management Pack Builder also supports this, but it&rsquo;s all a bit fiddly, so I&rsquo;ll describe it here.
For Veeam to work, authentication in the Data Source Connection must be set to Custom, otherwise we will not be able to create a secure variable. It is also important to enable <em><strong>Use Session Authentication</strong></em>.</p>

<figure><a href="15.png"><picture>
          <source srcset="/vcf9-ops-dashboard/15_hu_f66af423d454ab62.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/15_hu_51fff21a7078d0d9.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/15_hu_f66af423d454ab62.webp"alt="Veeam"  width="1677"  height="1208" />
        </picture></a><figcaption>
            <p>Veeam (click to enlarge)</p>
          </figcaption></figure>
<p>From here on, things change slightly, as we now have to perform two requests.
It is also important to note that the username and password must be included in the body for Veeam. A variable is also used for the password here.
From here on, things change slightly, as we now have to perform two requests. It is also important to note that Veeam also requires special headers. However, as Veeam uses Swagger, you can extract all of this information from there.</p>

<figure><a href="16.png"><picture>
          <source srcset="/vcf9-ops-dashboard/16_hu_422e76b9a3b17443.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/16_hu_174a5cc7d92d9c8c.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/16_hu_422e76b9a3b17443.webp"alt="Veeam Session"  width="1668"  height="1037" />
        </picture></a><figcaption>
            <p>Veeam Session (click to enlarge)</p>
          </figcaption></figure>
<p>After successfully creating a session, we can now see the token under Global Settings in Session Fields.
Session Fields are automatic variables that must be used for the Test Connection and also for the Release Session request.
We don&rsquo;t need to change anything in Global Settings, and since I didn&rsquo;t want to censor another screenshot, I decided not to bother.</p>

<figure><a href="17.png"><picture>
          <source srcset="/vcf9-ops-dashboard/17_hu_cf90ae3b0ef60a2.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/17_hu_d0707bbae649e748.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/17_hu_cf90ae3b0ef60a2.webp"alt="Release Session"  width="1684"  height="1210" />
        </picture></a><figcaption>
            <p>Release Session (click to enlarge)</p>
          </figcaption></figure>
<p>A release session request is nothing more than a logout command, after which the data is retrieved. This should be used to ensure that the session is closed properly.</p>
<p>As a final step, a test connection must be performed so that the DataSource can be saved. I simply queried the session information for this, but ultimately it doesn&rsquo;t matter what is queried here as long as a valid result is returned.</p>

<figure><a href="18.png"><picture>
          <source srcset="/vcf9-ops-dashboard/18_hu_8d337ea4538b0de3.webp" type="image/webp">
          <source srcset="/vcf9-ops-dashboard/18_hu_f7f04431662531c7.jpg" type="image/jpeg">
          <img src="/vcf9-ops-dashboard/18_hu_8d337ea4538b0de3.webp"alt="Final Test"  width="1679"  height="1210" />
        </picture></a><figcaption>
            <p>Final Test (click to enlarge)</p>
          </figcaption></figure>
<p>If the data source is set up in this way, the Management Pack is also secure for export, as no credentials are stored. When integrating into Operations, the username and password must then be provided. The session is created, the token is generated, and the session is closed cleanly with each data retrieval cycle.
Everything else is exactly the same as previously described for the Unraid API.</p>
<h2 id="summary">Summary<a href="#summary" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p>VCF Operations is a powerful tool, albeit a little outdated in some areas, particularly when it comes to handling APIs, where you can still see the product&rsquo;s roots and age. Nevertheless, with a little work, Operations can be expanded wonderfully to monitor more than just the VMware environment. If you want, you can build a weather report into the dashboard – why not?</p>
<p>Of course, this article only scratches the surface; we haven&rsquo;t talked about views yet, or how the whole Alarming works, or how to work with colors, and so on.
Considering that it&rsquo;s already almost 3 a.m. and the topic is so extensive, I&rsquo;ll write a more in-depth article if there&rsquo;s interest.
I hope I&rsquo;ve been able to help you make even better use of your operations.</p>
<p>Looking at my final dashboard, I&rsquo;m quite excited about how much you can achieve with it in a short amount of time. I only looked into the topic about a week ago and have been cautiously playing around with it.
My thanks also go to <a href="https://www.vcrocs.info/">Dale Hassinger</a>, who was kind enough to help me. Check out his blog.</p>
<p>And now all that remains for me to say is, happy creating and Merry Christmas!</p>

			</div>
			<div class="human posts"><a href="https://brainmade.org/" target="_blank" rel="external noreferrer noopener"><abbr title="I don't hate AIs; but I love humans!"><svg fill="#fff" width="128" height="40" viewBox="0 0 128 40" xmlns="http://www.w3.org/2000/svg">
      <path
         d="M26.306 39.391H11.665a1.28 1.28 0 0 1-1.28-1.28v-3.838H6.399a1.28 1.28 0 0 1-1.28-1.28v-5.336l-4.41-2.198a1.28 1.28 0 0 1-.493-1.855l4.904-7.357v-2.175C5.12 6.298 11.422 0 19.194 0s14.073 6.3 14.075 14.071c-.316 13.912-5.38 11.758-5.59 17.023l-.093 7.018a1.3 1.3 0 0 1-.375.905 1.27 1.27 0 0 1-.905.375zm-13.361-2.559h12.082l.143-7.27c-.132-3.329 5.858-4.122 5.54-15.368-.179-6.356-5.157-11.635-11.515-11.635S7.68 7.713 7.679 14.071v2.559c-.001.253-.075.5-.215.71l-4.315 6.471 3.822 1.91a1.28 1.28 0 0 1 .708 1.145v4.848h3.987a1.28 1.28 0 0 1 1.28 1.28z" />
      <path
         d="M20.186 29.111v-9.644c.059 0 .118.009.177.009 4.885-.006 8.525-4.506 7.511-9.284a1.19 1.19 0 0 0-.911-.911 7.67 7.67 0 0 0-9.049 5.67l-.033-.036a7.66 7.66 0 0 0-7.03-2.085 1.19 1.19 0 0 0-.911.91c-1.014 4.777 2.627 9.277 7.51 9.284.118 0 .246-.014.369-.02v6.106zm1.419-16.072a5.33 5.33 0 0 1 4.062-1.553 5.33 5.33 0 0 1-5.614 5.615 5.3 5.3 0 0 1 1.552-4.061zm-7.904 6.057a5.3 5.3 0 0 1-1.559-4.061 5.323 5.323 0 0 1 5.614 5.615 5.3 5.3 0 0 1-4.055-1.554m38.419-6.79q0 2.346-1.567 3.63-1.567 1.282-4.351 1.283h-7.669V0h7.016q2.807 0 4.242 1.1 1.446 1.087 1.446 3.226 0 1.467-.729 2.481-.718 1.002-2.197 1.357 1.86.244 2.828 1.32.979 1.063.979 2.823zm-4.112-7.491q0-1.161-.663-1.65-.652-.488-1.947-.488h-3.655v4.265h3.677q1.36 0 1.968-.525.62-.537.62-1.601m.892 7.209q0-2.42-3.089-2.42h-4.069v4.938h4.188q1.545 0 2.252-.624.718-.635.718-1.894m16.26 5.194-3.557-6.538h-3.764v6.538H54.63V0h7.658q2.741 0 4.231 1.332 1.49 1.32 1.49 3.8 0 1.808-.913 3.128-.914 1.308-2.47 1.723l4.144 7.235zm-.381-11.94q0-2.481-2.828-2.481h-4.112v5.083h4.199q1.349 0 2.045-.684.696-.685.696-1.919m16.785 11.94-1.36-4.399h-5.841l-1.359 4.399h-3.209L75.386 0h3.785l5.569 17.219zM77.278 2.651l-.066.269q-.109.44-.261 1.002c-.152.563-.725 2.436-1.871 6.184h4.405l-1.512-4.949-.468-1.662zm9.551 14.567V0h3.209v17.219zm15.53 0L95.681 3.959q.196 1.931.196 3.104v10.155h-2.849V0h3.666l6.777 13.37q-.196-1.846-.196-3.361V0h2.85v17.219zM52.63 39.375V28.331q.011-.351.115-3.015-.818 3.257-1.209 4.541l-2.925 9.518h-2.418l-2.925-9.518-1.232-4.541q.139 2.809.139 3.717v10.342h-3.017V22.313h4.548l2.902 9.543.253.92.553 2.289.725-2.736 2.983-10.015h4.526v17.063zm17.64 0-1.44-4.359h-6.184l-1.44 4.359h-3.397l5.919-17.063h4.007l5.896 17.063zm-4.537-14.434-.069.267q-.115.436-.277.993c-.162.557-.767 2.414-1.98 6.128h4.663l-1.601-4.905-.495-1.647zm24.577 5.776q0 2.64-.99 4.614-.979 1.961-2.787 3.003-1.796 1.042-4.122 1.042h-6.564V22.313h5.873q4.099 0 6.345 2.18 2.245 2.167 2.245 6.224m-3.42 0q0-2.748-1.359-4.19-1.359-1.453-3.881-1.453h-2.407v11.54h2.879q2.188 0 3.478-1.586t1.29-4.311m6 8.659V22.313h12.759v2.761h-9.362v4.287h8.66v2.761h-8.66v4.492h9.835v2.761zm15.75 0v-3.693h3.328v3.693zm12.445-12.149q2.082 0 3.662.781 1.58.78 2.422 2.235.833 1.454.833 3.393 0 2.98-1.845 4.676Q124.302 40 121.085 40q-3.208 0-5.005-1.688-1.798-1.688-1.798-4.695c0-3.007.606-3.57 1.817-4.694q1.817-1.696 4.986-1.696m0 2.702q-2.157 0-3.378.97-1.23.97-1.23 2.72 0 1.777 1.22 2.747 1.211.97 3.388.97 2.195 0 3.462-.988 1.258-.997 1.258-2.711 0-1.778-1.23-2.738-1.23-.97-3.491-.97m6.725-13.402-5.062 2.935v3.107h5.062v2.648h-13.331v-6.322q0-2.261 1.031-3.491 1.022-1.23 2.942-1.23 1.4 0 2.422.754 1.012.754 1.334 2.038l5.601-3.42zm-9.244.314q-1.92 0-1.921 2.334v3.393h3.936v-3.465q0-1.113-.53-1.688t-1.486-.575m7.249-10.915a6.5 6.5 0 0 0-.313-2.002q-.321-.969-.814-1.499h-1.845v3.088h-2.063V0h4.901q1.088 1.005 1.703 2.622a9.4 9.4 0 0 1 .615 3.375q0 3.088-1.798 4.748-1.808 1.661-5.119 1.661-3.292 0-5.043-1.67-1.76-1.67-1.76-4.803 0-4.452 3.473-5.664l.776 2.442q-1.012.395-1.533 1.238-.52.844-.52 1.984 0 1.867 1.192 2.837t3.416.97q2.261 0 3.501-.997 1.23-1.005 1.23-2.818z" />
   </svg></abbr></a></div>
			<div class="post-divider">
  				<img src="/end.png" alt="End graphic" loading="lazy">
			</div>

<div class="related-posts thin">
	<h2>See Also</h2>
	<ul>
	
	<li><a href="/posts/vcf-operations-migration/">VCF 9 - Migration to central VCF Operations instance</a></li>
	
	<li><a href="/posts/vcf-stretched-cluster/">VCF Stretched Cluster</a></li>
	
	<li><a href="/posts/vcf-import-overlay/">VCF Import Tool - Enable Overlay in an imported VCF Domain</a></li>
	
	<li><a href="/posts/vcf-import-cluster/">VCF Import Tool - Run VCF with NFS as principal Storage </a></li>
	
	<li><a href="/posts/homelab-v5/">Homelab V5</a></li>
	
	</ul>
</div>

		</article>
		<div class="post-nav thin">
			<a class="prev-post" href="https://sdn-warrior.org/posts/vcf9-dark-site-edge-part2/">
				<span class="post-nav-label">Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right">
      <line x1="5" y1="12" x2="19" y2="12"></line>
      <polyline points="12 5 19 12 12 19"></polyline>
   </svg></span><br><span>VCF9 - Dark Site Edge - Part 2</span>
			</a>
		</div>
		<div id="comments" class="thin"></div>
	</main>

<footer id="site-footer" class="section-inner thin animated fadeIn faster">
	<p>
		&copy; 2025 <a href="https://sdn-warrior.org/">SDN-Warrior</a>
		&#183; COPYRIGHT Daniel Krieger</p>

<script defer src="/klaro/klaro-config.js"></script>

<script defer src="/klaro/klaro.js"></script>
</footer>
<script async src="https://sdn-warrior.org/js/bundle.min.c7c384e4d29d192bbac6811ae4660bb01767194a5bea56baca77e8260f93ea16.js" integrity="sha256-x8OE5NKdGSu6xoEa5GYLsBdnGUpb6la6ynfoJg+T6hY=" crossorigin="anonymous"></script><script async src="https://sdn-warrior.org/js/link-share.min.24409a4f6e5537d70ffc55ec8f9192208d718678cb8638585342423020b37f39.js" integrity="sha256-JECaT25VN9cP/FXsj5GSII1xhnjLhjhYU0JCMCCzfzk=" crossorigin="anonymous"></script>
</body>

</html>
